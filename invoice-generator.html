<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ’¼ Invoice Generator - SmallToolsPro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);color:#1e293b;padding:15px;min-height:100vh;}
        .container{max-width:800px;margin:0 auto;}
        header{background:linear-gradient(135deg,#2563eb,#1e40af);color:white;padding:1.5rem;border-radius:15px;margin-bottom:1.5rem;text-align:center;box-shadow:0 10px 30px rgba(37,99,235,0.3);}
        header h1{font-size:clamp(1.5rem,6vw,2.2rem);margin-bottom:0.3rem;}
        .invoice-form{background:white;padding:2rem;border-radius:15px;box-shadow:0 15px 40px rgba(0,0,0,0.1);margin-bottom:1.5rem;}
        .form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1.5rem;}
        .form-group{margin-bottom:1rem;}
        label{display:block;margin-bottom:0.4rem;font-weight:600;color:#1e293b;font-size:0.9rem;}
        input{width:100%;padding:12px;border:2px solid #e2e8f0;border-radius:8px;font-size:16px;transition:all 0.3s;}
        input:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px rgba(37,99,235,0.1);}
        .items-container{background:#f8fafc;border:2px solid #e2e8f0;border-radius:10px;padding:1.5rem;margin:1rem 0;}
        .item-row{display:grid;grid-template-columns:2fr 1fr 1fr 1fr 40px;gap:0.8rem;align-items:center;margin-bottom:1rem;padding:1rem;background:white;border-radius:8px;border:1px solid #e2e8f0;}
        .item-row input{padding:10px;border:2px solid #e2e8f0;border-radius:6px;}
        .item-row input[readonly]{background:#f1f5f9;color:#475569;font-weight:600;}
        .remove-item{background:#ef4444;color:white;border:none;width:36px;height:36px;border-radius:50%;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;}
        .remove-item:hover{background:#dc2626;}
        .btn-group{display:flex;gap:1rem;flex-wrap:wrap;}
        .btn{padding:14px 28px;border:none;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:all 0.3s;display:inline-flex;align-items:center;gap:0.5rem;text-decoration:none;}
        .btn-primary{background:linear-gradient(135deg,#2563eb,#1e40af);color:white;}
        .btn-primary:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(37,99,235,0.4);}
        .btn-success{background:linear-gradient(135deg,#10B981,#059669);color:white;}
        .btn-success:hover{transform:translateY(-2px);}
        .btn-add{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:white;padding:10px 20px;font-size:14px;}
        #invoice-preview{display:none;background:white;padding:2rem;border-radius:15px;box-shadow:0 20px 50px rgba(0,0,0,0.15);margin-top:1.5rem;}
        .invoice-header{display:flex;justify-content:space-between;margin-bottom:2rem;padding-bottom:1rem;border-bottom:3px solid #2563eb;}
        .company-info h2{color:#2563eb;font-size:1.8rem;}
        .invoice-meta h1{color:#2563eb;font-size:2.2rem;}
        .bill-to{background:#f8fafc;padding:1.5rem;border-radius:10px;margin-bottom:1.5rem;border-left:4px solid #10B981;}
        .invoice-table{width:100%;border-collapse:collapse;margin:1.5rem 0;background:white;border-radius:10px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,0.08);}
        .invoice-table th{background:linear-gradient(135deg,#2563eb,#1e40af);color:white;padding:15px;text-align:left;font-weight:600;}
        .invoice-table td{padding:14px;border-bottom:1px solid #f1f5f9;}
        .total-row{background:#fef3c7 !important;font-size:1.3rem;font-weight:bold;color:#92400e;}
        @media (max-width:768px){.invoice-header{flex-direction:column;text-align:center;gap:1.5rem;}.item-row{grid-template-columns:2fr 1fr 1fr 80px;}}
        @media (max-width:480px){.item-row{grid-template-columns:1fr;gap:0.5rem;}.remove-item{justify-self:end;}}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ’¼ Invoice Generator</h1>
            <p>Create & Download Professional PDF Invoices</p>
        </header>

        <div class="invoice-form">
            <div class="form-grid">
                <div class="form-group">
                    <label>Invoice #</label>
                    <input type="text" id="invoiceNo" value="INV-2025-001">
                </div>
                <div class="form-group">
                    <label>Date</label>
                    <input type="date" id="invoiceDate">
                </div>
                <div class="form-group">
                    <label>Your Company</label>
                    <input type="text" id="yourCompany" value="SmallToolsPro" placeholder="Your Business">
                </div>
                <div class="form-group">
                    <label>Client Name</label>
                    <input type="text" id="clientName" placeholder="Client Name">
                </div>
                <div class="form-group">
                    <label>Client Email</label>
                    <input type="email" id="clientEmail" placeholder="email@example.com">
                </div>
            </div>

            <div class="items-container" id="items-container">
                <div class="item-row">
                    <input type="text" class="item-desc" placeholder="Description">
                    <input type="number" class="item-qty" placeholder="Qty" min="1">
                    <input type="number" class="item-rate" placeholder="Rate â‚¹" step="0.01">
                    <input type="number" class="item-amount" placeholder="Amount â‚¹" readonly>
                    <button class="remove-item" onclick="removeItem(this)">Ã—</button>
                </div>
            </div>
            <button class="btn btn-add" onclick="addItem()">+ Add Item</button>

            <div class="btn-group" style="margin-top:2rem;">
                <button class="btn btn-primary" onclick="generateInvoice()">
                    <i class="fas fa-magic"></i> Generate
                </button>
                <button class="btn btn-success" onclick="downloadPDF()" id="downloadBtn" disabled>
                    <i class="fas fa-download"></i> PDF Download
                </button>
            </div>
        </div>

        <div id="invoice-preview">
            <div id="invoice"></div>
        </div>
    </div>

    <script>
        document.getElementById('invoiceDate').valueAsDate=new Date();
        document.addEventListener('input',e=>{
            if(e.target.classList.contains('item-qty')||e.target.classList.contains('item-rate')){
                let row=e.target.closest('.item-row'),qty=parseFloat(row.querySelector('.item-qty').value)||0,rate=parseFloat(row.querySelector('.item-rate').value)||0;
                row.querySelector('.item-amount').value=(qty*rate).toFixed(2);
            }
        });
        function addItem(){let c=document.getElementById('items-container'),r=document.createElement('div');r.className='item-row';r.innerHTML=`<input type="text" class="item-desc" placeholder="Description"><input type="number" class="item-qty" placeholder="Qty" min="1"><input type="number" class="item-rate" placeholder="Rate â‚¹" step="0.01"><input type="number" class="item-amount" placeholder="Amount â‚¹" readonly><button class="remove-item" onclick="removeItem(this)">Ã—</button>`;c.appendChild(r);}
        function removeItem(b){if(document.querySelectorAll('.item-row').length>1)b.closest('.item-row').remove();}
        function generateInvoice(){
            let n=document.getElementById('invoiceNo').value,d=document.getElementById('invoiceDate').value,c=document.getElementById('yourCompany').value,cl=document.getElementById('clientName').value,ce=document.getElementById('clientEmail').value,t=0,i='',h=false;
            document.querySelectorAll('.item-row').forEach(r=>{
                let desc=r.querySelector('.item-desc').value.trim(),qty=r.querySelector('.item-qty').value,rate=r.querySelector('.item-rate').value,amt=r.querySelector('.item-amount').value;
                if(desc&&qty&&rate&&amt>0){h=true;i+=`<tr><td>${desc}</td><td>${qty}</td><td>â‚¹${parseFloat(rate).toFixed(2)}</td><td>â‚¹${amt}</td></tr>`;t+=parseFloat(amt);}
            });
            if(!c||!cl||!h){alert('Fill company, client & add items!');return;}
            document.getElementById('invoice').innerHTML=`<div class="invoice-header"><div class="company-info"><h2>${c}</h2><p>Invoice: ${n} | ${new Date(d).toLocaleDateString('en-IN')}</p></div><div class="invoice-meta"><h1>INVOICE</h1></div></div><div class="bill-to"><strong>Bill To:</strong><br><br><strong>${cl}</strong><br>${ce||'No email'}</div><table class="invoice-table"><thead><tr><th>Description</th><th>Qty</th><th>Rate</th><th>Amount</th></tr></thead><tbody>${i}<tr class="total-row"><td colspan="3"><strong>TOTAL</strong></td><td><strong>â‚¹${t.toFixed(2)}</strong></td></tr></tbody></table><div style="margin-top:2rem;padding-top:1.5rem;border-top:2px dashed #cbd5e1;text-align:center;color:#64748b;"><p>Thank you for your business!</p><p>Payment due within 30 days</p></div>`;
            document.getElementById('invoice-preview').style.display='block';document.getElementById('downloadBtn').disabled=false;document.getElementById('invoice-preview').scrollIntoView();
        }
        function downloadPDF(){
            let p=document.getElementById('invoice-preview');if(!p.style.display)p.style.display='block';
            html2pdf().set({filename:`invoice-${document.getElementById('invoiceNo').value}.pdf`,html2canvas:{scale:2},jsPDF:{format:'a4',orientation:'portrait'}}).from(document.getElementById('invoice')).save();
        }
    </script>
</body>
</html>
